<!DOCTYPE html>
<html ng-app="simonaApp" ng-cloak>

<head>
    <link rel="icon" type="image/png" href="/images/icon.jpeg">
    <title>Simona</title>
    <base href="/">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Content-Script-Type" content="text/javascript">
    <meta http-equiv="Content-Style-Type" content="text/css">

</head>
    <body ng-controller="MainController">

    <div class="container container-fluid h-100 d-flex flex-col">
        <div style="width: 100%;" class="grid">
            <div class="row h-100">
                <div class="col-sm-3">
                    <!--<div ng-include='"partials/header.html"'></div>-->


                    <!--https://codepen.io/anon/pen/xWyRMe
                    https://codepen.io/tpai/pen/XXQdaw-->
                    <div ng-repeat="region in regions">

                        <div class="plus-minus">
                            <input type="checkbox" name="a" id="{{region.id}}" class="css-checkbox" checklist-model="model.regions" checklist-value="region.id">
                            <label for="{{region.id}}" class="css-label" ng-click="selectObject({region}, true, false)">
                                <span class="fa fa-plus"><img class="plusMinusImg" src="images/plus.png"></span>
                                <span class="fa fa-minus"><img class="plusMinusImg" src="images/minus.png"></span>
                                {{region.name}}
                            </label>

                            <div class="css-content">
                                <div ng-repeat="mrms in region.postDTOs">

                                    <div class="plus-minus mrms">
                                        <input type="checkbox" name="a" id="{{mrms.id}}" class="css-checkbox"><!--todo maybe need change id on id="post+{{mrms.id}}", if have conflict with region id-->
                                        <label for="{{mrms.id}}" class="css-label" ng-click="selectObject({mrms}, false, true)">
                                            <span class="fa fa-plus"><img class="triangleCloseImg" src="images/triangle_close.png"></span>
                                            <span class="fa fa-minus"><img class="triangleOpenImg" src="images/triangle_open.png"></span>
                                            <img class="typeStatusMRMSImg" src="images/mrms/{{mrms.iconName}}"> {{mrms.name}}
                                        </label>
                                        <div class="css-content detected">
                                            <div style="width: 100%;" class="grid">
                                                <div ng-repeat="detected in mrms.rserviceDTOs">
                                                    <div class="row h-100">
                                                        <div class="col-sm-10">
                                                            {{detected.name}}
                                                        </div>
                                                        <div class="col-sm-2">
                                                            {{detected.count}}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row h-100">
                                                    <div class="col-sm-10">
                                                        <strong>Всего</strong>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <strong>{{totalRservice}}</strong>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                    <div ng-view class="angular-view"></div>
                </div>
                <div class="col-sm-9 map">
                    <div id="mapDiv"></div>
                </div>
            </div>
        </div>
    </div>


    <!--JavaScript and CSS files-->
    <!-- load AngularJS -->
    <script src="js/lib/angular-1.6.9/angular.min.js"></script>
    <script src="js/lib/angular-1.6.9/angular-route.js"></script>
    <script src="js/lib/angular-1.6.9/angular-resource.js"></script>
    <script src="js/lib/angular-1.6.9/angular-cookies.js"></script>

    <!--websocket-->
    <!--<script src="js/ng-stomp/node_modules/ng-stomp/dist/ng-stomp.standalone.min.js"></script>-->
    <script src="js/ng-stomp/node_modules/ng-stomp/dist/ng-stomp.min.js"></script>

    <!--Load ArcGIS ESRI-->
    <script src="https://js.arcgis.com/4.6/"></script>
    <script src="https://unpkg.com/angular-esri-map@2"></script>
    <!--Load CSS file-->
    <link rel="stylesheet" href="https://js.arcgis.com/4.6/esri/css/main.css">

    <!-- Load jQuery-->
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.min.js"></script>
    <link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css"/>

    <!--Local JS files-->
    <script src="js/app/simonaApp.js"></script>
    <script src="js/app/controller/Controller.js"></script>
    <script src="js/app/service/Service.js"></script>
    <script src="js/app/resize.js"></script>

    <!-- Load Bootstrap 4-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- CSS files -->
    <link type="text/css" rel="stylesheet" href="css/app-main.css">
    </body>
</html>
